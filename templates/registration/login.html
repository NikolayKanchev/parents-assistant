{% extends 'base.html' %}
{% load static %}
{% load bootstrap4 %}
{% load crispy_forms_tags %}


{% block title %}Login{% endblock %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="{% static 'login_register/style.css' %}">


    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}danger{% else %}success{% endif %} {{ message.tags }}" style="text-align: center">
                    <strong>{{ message }}</strong>
                </div>
        {% endfor %}
    {% endif %}

{#    {% if not form.non_field_errors %}#}
{#        <div style="visibility: hidden; height: 70px; border: 1px solid red;"></div>#}
{#    {% endif %}#}
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <div class="alert alert-danger" style="text-align: center">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger" style="text-align: center">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endif %}

    <div class="container-fluid">
        <div id="cards" class="row">
            <div class="col-md-4 mt-5 single-card">
              <div class="card text-center">
                <div class="card-body card_title">
                    <div id="form-container">
                        <h3 class="card-title">Login</h3>
                        <hr>
                        <br>
                        <form method="post" class="form">
                            {% csrf_token %}
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                {{ form.username|as_crispy_field }}
                              </div>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                {{ form.password|as_crispy_field }}
                              </div>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                               <button type="submit" class="btn btn-primary style" >Save</button>
                            </div>
                        </form>
                    </div>

                </div>
              </div>
            </div>

            <h4 id="or">OR</h4>

            <div class="col-md-4 mt-5 single-card">
          <div class="card text-center">
            <div class="card-body">

                <h3 class="card-title">Login With</h3>
                <hr class="social-hr">
                <div class="card_title">
                    <div id="form-container">
                        <ul id="social-container">
                            <li>
                                <a id="facebook" class="btn social-btn" href="{% url 'social:begin' 'facebook' %}">
                                    <i class="fab fa-facebook-f"></i>
                                    <span style="color: #eeeeee">Facebook</span>
                                </a>
                            </li>
                            <li>
                                <a id="google" class="btn social-btn" href="{% url "social:begin" "google-plus" %}">
                                    <img id="google-img" src="{% static 'images/new-google-favicon-512.png' %}">
                                    <span style="color: gray; font-weight: 600">Google</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
          </div>
        </div>

        </div>
            <div id="register-div">
                <ul id="register-ul">
                    <li id="li-register"><p>Don't have an account? <a id="register" href="{% url 'signup' %}">Sign up</a></p></li>
{#                    <li><label class="checkbox-inline"><input id="checkbox" type="checkbox" value=""><span id="text-keep">Keep me signed in</span></label></li>#}
                </ul>
            </div>
    </div>

{% endblock %}