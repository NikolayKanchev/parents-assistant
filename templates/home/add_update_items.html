{% extends 'base_item_card.html' %}
{% load static %}
{% load bootstrap4 %}
{% load crispy_forms_tags %}

{% block card_title %}
    {% if category_name %}
        Add {{ category_name }}
    {% else %}
        Edit details
    {% endif %}
{% endblock %}

{% block card_content %}
    {% include "others/tooltip_links.html" %}
    <link rel="stylesheet" type="text/css" href="{% static 'home/css/clothing-items.css' %}">

    <div class="container">
      <div class="row justify-content-center">
        <div class="col-10">

            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div>{{ form.category }}</div>
                <div class="row">
                  <div class="col-lg-6 col-md-6 col-sm-6 hidden">
{# ********************************** Clothing Sizes **************************************#}
                      {% if section_name == "Clothes" %}
                          <div class="row">
                          <p class="col-12" style="margin-top: 10px;">Specify the clothing size:</p>
                        <div id="sizes-cont" class="col-lg-12 col-md-12 col-sm-12">

                            <div class="sizes-column">
                              {% for field in form.clothing_size%}

                                  {% if forloop.counter <= 6 %}
                                        <div class="sizes-row">
                                          <span>{{ field }}</span>
                                          <span>{{ field.label }}</span>
                                        </div>
                                  {% endif %}
                              {% endfor %}
                            </div>
                            <div class="sizes-column">
                              {% for field in form.clothing_size%}

                                  {% if forloop.counter > 6 and forloop.counter <= 12 %}
                                        <div class="sizes-row">
                                          <span>{{ field }}</span>
                                          <span>{{ field.label }}</span>
                                        </div>
                                  {% endif %}
                              {% endfor %}
                            </div>
                            <div class="sizes-column">
                              {% for field in form.clothing_size%}

                                  {% if forloop.counter > 12 and forloop.counter <= 18 %}
                                        <div class="sizes-row">
                                          <span>{{ field }}</span>
                                          <span>{{ field.label }}</span>
                                        </div>
                                  {% endif %}
                              {% endfor %}
                            </div>
                            <div class="sizes-column">
                          {% for field in form.clothing_size%}

                              {% if forloop.counter > 18 %}
                                    <div class="sizes-row">
                                      <span>{{ field }}</span>
                                      <span>{{ field.label }}</span>
                                    </div>
                              {% endif %}
                          {% endfor %}
                        </div>
                    </div>
                </div>
                {# ********************************** Shoe Sizes **************************************#}
                      {% elif section_name == "Shoes" %}
                          <div class="row">
                          <p class="col-12" style="margin-top: 10px;">Specify the shoes size:</p>
                        <div id="sizes-cont" class="col-lg-12 col-md-12 col-sm-12">

                            <div class="sizes-column">
                              {% for field in form.shoe_size %}

                                  {% if forloop.counter <= 6 %}
                                        <div class="sizes-row">
                                          <span>{{ field }}</span>
                                          <span>{{ field.label }}</span>
                                        </div>
                                  {% endif %}
                              {% endfor %}
                            </div>
                            <div class="sizes-column">
                              {% for field in form.shoe_size%}

                                  {% if forloop.counter > 6 and forloop.counter <= 12 %}
                                        <div class="sizes-row">
                                          <span>{{ field }}</span>
                                          <span>{{ field.label }}</span>
                                        </div>
                                  {% endif %}
                              {% endfor %}
                            </div>
                            <div class="sizes-column">
                              {% for field in form.shoe_size%}

                                  {% if forloop.counter > 12 and forloop.counter <= 18 %}
                                        <div class="sizes-row">
                                          <span>{{ field }}</span>
                                          <span>{{ field.label }}</span>
                                        </div>
                                  {% endif %}
                              {% endfor %}
                            </div>
                            <div class="sizes-column">
                          {% for field in form.shoe_size%}

                              {% if forloop.counter > 18 %}
                                    <div class="sizes-row">
                                      <span>{{ field }}</span>
                                      <span>{{ field.label }}</span>
                                    </div>
                              {% endif %}
                          {% endfor %}
                        </div>
                    </div>
                </div>
{#                  *************************************************************************#}
                {% endif %}

                  </div>
                  <div class="col-lg-2 col-md-2 col-sm-2 hidden">
                    {{ form.amount|as_crispy_field }}
                  </div>
                  <div class="col-lg-2 col-md-0 col-sm-0"></div>
                  <div class="col-lg-2 col-md-2 col-sm-2 form-actions position">
                      <button type="submit" class="btn btn-primary style" >Save</button>
                  </div>

                    <hr class="col-lg-11 col-md-11 col-sm-11">
                    <h5 class="optional-title" data-toggle="tooltip" data-placement="top" title="Not required but recommended !">More Options</h5>

                <div class="row optional col-lg-12 col-md-12 col-sm-12">
                      <div class="col-lg-3 col-md-3 col-sm-3">
                        {{ form.brand|as_crispy_field }}
                      </div>
                        <div class="col-lg-2 col-md-2 col-sm-2"></div>
                      <div class="col-lg-2 col-md-2 col-sm-2 hidden">
                        {{ form.sex|as_crispy_field }}
                      </div>
                        <div class="col-lg-2 col-md-2 col-sm-2"></div>
                      <div class="col-lg-3 col-md-3 col-sm-3" >
                         {{ form.condition|as_crispy_field }}
                      </div>

                      <div class="col-lg-3 col-md-3 col-sm-3">
                        {{ form.price|as_crispy_field }}
                      </div>
                        <div class="col-lg-2 col-md-2 col-sm-2"></div>
                      <div class="col-lg-2 col-md-2 col-sm-2 hidden">
                        {{ form.season|as_crispy_field }}
                      </div>
                        <div class="col-lg-2 col-md-2 col-sm-2"></div>
                      <div class="col-lg-3 col-md-3 col-sm-3" >
                         {{ form.color|as_crispy_field }}
                      </div>

                      <div class="col-lg-3 col-md-3 col-sm-3">
                        {{ form.picture|as_crispy_field }}
                      </div>
                      <div class="col-lg-9 col-md-9 col-sm-9">
                         {{ form.note|as_crispy_field }}
                      </div>

                </div>

                </div>
            </form>
            {% if not category_name %}
                <br>
                <div class="col-lg-12 col-md-12 col-sm-12 ml-0" style="padding: 0">
                    {% if slug %}
                        <form action="{% url 'del_item_from_all_items' pk=form.instance.pk slug="all_items" %}">
                    {% else %}
                        <form action="{% url 'del_item' pk=form.instance.pk %}">
                    {% endif %}

                        {% csrf_token %}
                        <button class="btn btn-danger" type="submit">Delete</button>
                    </form>
                </div>
        {% endif %}
        </div>

      </div>
    </div>
    <script src="{% static 'js/tooltip.js' %}"></script>
{% endblock %}